<!DOCTYPE html><html><head>
      <title>exp-3_report</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<p><font face="é»‘ä½“" size="12"></font></p><center><font face="é»‘ä½“" size="12">å®éªŒä¸‰ã€å›¾åƒæ‹¼æ¥</font></center><p></p>
<font face="å®‹ä½“" size="4">
<b>
<div>
    <span style="float: left">å­¦ç”Ÿå§“å: å¢è±ªè±ª</span>
    <span style="float: right">æŒ‡å¯¼è€å¸ˆ: èƒ¡æ”¿ä¼Ÿ</span>
</div>
<center>å­¦å·: 202310310239 </center>
<br>
<h4 id="ä¸€-å®éªŒç›®çš„">ä¸€ã€å®éªŒç›®çš„ </h4>
<p>é€šè¿‡SIFTç®—æ³•æå–å¹¶åŒ¹é…å›¾åƒç‰¹å¾ç‚¹ï¼Œç»“åˆRANSACç®—æ³•å®ç°å›¾åƒé…å‡†ä¸æ‹¼æ¥ï¼Œå¯¹æ¯”å¤šç§å›¾åƒèåˆç­–ç•¥åŠå›¾åƒæ‹¼æ¥ä¸åŒå®ç°æ–¹å¼çš„å·®å¼‚ã€‚</p>
<h4 id="äºŒ-å®éªŒå†…å®¹">äºŒã€å®éªŒå†…å®¹ </h4>
<h5 id="1-å›¾åƒæ‹¼æ¥ä¸€èˆ¬æ­¥éª¤">1ã€å›¾åƒæ‹¼æ¥ä¸€èˆ¬æ­¥éª¤ </h5>
<ol>
<li>ç‰¹å¾åŒ¹é…ï¼Œå¯¹è¯»å…¥çš„ä¸¤å¼ å›¾ç‰‡è¿›è¡Œç‰¹å¾ç‚¹åŒ¹é…ã€‚</li>
<li>ç­›é€‰ç‰¹å¾ç‚¹å¯¹ï¼Œè®¡ç®—å•åº”çŸ©é˜µï¼Œå°†ä¸¤å¼ å›¾ç‰‡æ”¾åˆ°åŒä¸€ä¸ªå¹³é¢åæ ‡ç³»ä¸‹ã€‚</li>
<li>é‡‡å–ç›¸åº”çš„å›¾åƒèåˆç­–ç•¥ï¼Œå¯¹é‡å åŒºåŸŸè¿›è¡Œå¹³æ»‘ï¼Œæ¶ˆé™¤æ‹¼æ¥è¾¹ç•Œã€‚</li>
</ol>
<h5 id="2-è¾“å…¥å›¾åƒ">2ã€è¾“å…¥å›¾åƒ </h5>
<ul>
<li>æ‹¼æ¥ä½¿ç”¨çš„å›¾åƒä¸º <code>ori_left</code> ï¼ˆå·¦åŠéƒ¨åˆ†ï¼‰å’Œ <code>ori_right_mirror</code> ï¼ˆå³åŠéƒ¨åˆ†<strong>é•œåƒ</strong>ï¼‰ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>Origin</strong></th>
<th style="text-align:center"><strong>Origin_left</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="photos/origin.jpg" alt="no"></td>
<td style="text-align:center"><img src="photos/ori_left.jpg" alt="no"></td>
</tr>
<tr>
<td style="text-align:center"><strong>Origin_right</strong></td>
<td style="text-align:center"><strong>Origin_right_mirror</strong></td>
</tr>
<tr>
<td style="text-align:center"><img src="photos/ori_right.jpg" alt="no"></td>
<td style="text-align:center"><img src="photos/ori_right_mirror.jpg" alt="no"></td>
</tr>
</tbody>
</table>
<h5 id="3-è·å–ç‰¹å¾ç‚¹">3ã€è·å–ç‰¹å¾ç‚¹ </h5>
<ul>
<li>é¦–å…ˆå¯¹å›¾åƒè¿›è¡ŒSIFTç‰¹å¾æå–ï¼Œä¸»è¦é€šè¿‡è°ƒç”¨<code>cv2.SIFT_create()</code> API å®ç°ï¼Œè¿”å›å…³é”®ç‚¹ï¼ˆkeypointsï¼‰ã€æè¿°ç¬¦ï¼ˆdescriptorsï¼‰ã€‚</li>
<li>è¿™é‡Œæˆ‘å®šä¹‰äº†ä¸€ä¸ª<code>draw_pos()</code>å‡½æ•°ï¼Œç”¨äºå…³é”®ç‚¹çš„å¯è§†åŒ–ã€‚</li>
</ul>
<div style="
  position: relative;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 35px 20px 20px 20px;
  color: #eee;
  font-family: 'Menlo', monospace;
  overflow-x: auto;
">
  <!-- é¡¶éƒ¨æ¡ -->
  <div style="
    position: absolute;
    top: 10px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 30px);
  ">
    <div>
      <span style="display:inline-block;width:12px;height:12px;background:#ff5f56;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#ffbd2e;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#27c93f;border-radius:50%;"></span>
    </div>
    <div style="
      background:#2b2b2b;
      color:#ddd;
      font-size:12px;
      padding:2px 10px;
      border-radius:5px;
      font-family:Arial, sans-serif;
      letter-spacing:0.5px;
    ">
      Python
    </div>
  </div>
  <pre style="margin:0; margin-top:10px;" class="language-text">def drawpos(img_left,img_right,kps_left,kps_rigt):
    hl, wl = img_left.shape[:2]
    hr, wr = img_right.shape[:2]
    vis = np.zeros((max(hl, hr), wl + wr, 3), dtype=np.uint8)
    vis[0:hl, 0:wl] = img_left
    vis[0:hr, wl:] = img_right

    for kp in kps_left:
        pos_l = (int(kp.pt[0]),int(kp.pt[1]))
        cv2.circle(vis, pos_l, 3, (0, 0, 255), 1)
    
    for kp in kps_rigt:
        pos_r = (int(kp.pt[0]+wl),int(kp.pt[1]))
        cv2.circle(vis, pos_r, 3, (0, 255, 0), 1)
    return vis
</pre>
</div>
<ul>
<li>ç‰¹å¾ç‚¹å¯è§†åŒ–ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br>
<img src="photos\my_result\keyposints.jpg" alt="ç‰¹å¾å›¾åƒ"></li>
</ul>
<h5 id="4-ç‰¹å¾åŒ¹é…">4ã€ç‰¹å¾åŒ¹é… </h5>
<ul>
<li>è¿™é‡Œæˆ‘å¹¶æœªä½¿ç”¨å‚è€ƒä»£ç ä¸­ <code>FLANN</code> ï¼ˆè¿‘ä¼¼æœ€è¿‘é‚»åº“ï¼‰æ–¹æ³•ï¼Œè€Œæ˜¯æ‰‹åŠ¨å®ç°äº†<code>matchKeyPoint(kps_l, kps_r, features_l, features_r, ratio)</code>å‡½æ•°ï¼Œå®ç°æ€è·¯å°±æ˜¯ï¼šå¯¹æ¯ä¸ªæè¿°å­ç”¨ä¸¤å±‚å¾ªç¯è®¡ç®—æ¬§æ°è·ç¦»ï¼Œå¾—åˆ°æœ€è¿‘å’Œæ¬¡è¿‘ï¼Œåš ratio é˜ˆå€¼æµ‹è¯•ï¼Œå…¶å®å°±æ˜¯æš´åŠ›æŸ¥æ‰¾ã€‚</li>
<li>è™½ç„¶è¿™ç§Pythonå®ç°çš„æš´åŠ›æŸ¥æ‰¾æ–¹æ³•æ•ˆç‡å¿…ç„¶é€Šè‰²äº <code>FLANN</code>ï¼Œä½†æ˜¯æ›´åŠ ç²¾ç¡®ï¼Œè¿™ä¸€ç‚¹ä¼šåœ¨åç»­å¯¹æ¯”å®éªŒä¸­è¿›ä¸€æ­¥å‘ˆç°ã€‚</li>
</ul>
<div style="
  position: relative;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 35px 20px 20px 20px;
  color: #eee;
  font-family: 'Menlo', monospace;
  overflow-x: auto;
">
  <!-- é¡¶éƒ¨æ¡ -->
  <div style="
    position: absolute;
    top: 10px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 30px);
  ">
    <div>
      <span style="display:inline-block;width:12px;height:12px;background:#ff5f56;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#ffbd2e;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#27c93f;border-radius:50%;"></span>
    </div>
    <div style="
      background:#2b2b2b;
      color:#ddd;
      font-size:12px;
      padding:2px 10px;
      border-radius:5px;
      font-family:Arial, sans-serif;
      letter-spacing:0.5px;
    ">
      Python
    </div>
  </div>
  <pre style="margin:0; margin-top:10px;" class="language-text">def matchKeyPoint(kps_l, kps_r, features_l, features_r, ratio):
    Match_idxAndDist = [] # å­˜å‚¨æœ€è¿‘ç‚¹ä½ç½®ã€æœ€è¿‘ç‚¹è·ç¦»ã€æ¬¡è¿‘ç‚¹ä½ç½®ã€æ¬¡è¿‘ç‚¹è·ç¦»
    for i in range(len(features_l)):
        # ä» features_r ä¸­ æ‰¾åˆ°ä¸ i è·ç¦»æœ€è¿‘çš„2ä¸ªç‚¹
        min_IdxDis = [-1, np.inf]  # è·ç¦»æœ€è¿‘çš„ç‚¹,
        secMin_IdxDis = [-1 ,np.inf]  # è·ç¦»ç¬¬äºŒè¿‘çš„ç‚¹

        for j in range(len(features_r)):
            dist = np.linalg.norm(features_l[i] - features_r[j])
            if (min_IdxDis[1] &gt; dist):
                secMin_IdxDis = np.copy(min_IdxDis)
                min_IdxDis = [j , dist]
            elif (secMin_IdxDis[1] &gt; dist and secMin_IdxDis[1] != min_IdxDis[1]):
                secMin_IdxDis = [j, dist]
        Match_idxAndDist.append([min_IdxDis[0], min_IdxDis[1], secMin_IdxDis[0], secMin_IdxDis[1]])
   
    
    goodMatches = []
    # é˜ˆå€¼æµ‹è¯•
    # |fi-fj|/|fi-fj'|&gt;ratio å–æ¶ˆåŒ¹é…ç‚¹
    for i in range(len(Match_idxAndDist)):
        if (Match_idxAndDist[i][1] &lt;= Match_idxAndDist[i][3] * ratio):
            goodMatches.append((i, Match_idxAndDist[i][0]))
    
    # è·å–åŒ¹é…è¾ƒå¥½çš„ç‚¹å¯¹
    goodMatches_pos = []
    for (idx, correspondingIdx) in goodMatches:
        psA = (int(kps_l[idx].pt[0]), int(kps_l[idx].pt[1]))
        psB = (int(kps_r[correspondingIdx].pt[0]), int(kps_r[correspondingIdx].pt[1]))
        goodMatches_pos.append([psA, psB])
        
    return goodMatches_pos
</pre>
</div>
<ul>
<li>åŒ¹é…ç‚¹è¿çº¿å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»å›¾ä¸­ä¸éš¾çœ‹å‡ºï¼Œå­˜åœ¨ä¸€äº›â€œå‡åŒ¹é…ç‚¹â€ï¼šç‰¹å¾ç‚¹è™½ç„¶åœ¨å±€éƒ¨æè¿°å­ä¸Šç›¸ä¼¼ï¼Œä½†å®é™…ä¸Šåœ¨ç©ºé—´ä¸Šå¹¶ä¸å±äºåŒä¸€ä¸ªå‡ ä½•å˜æ¢å…³ç³»ã€‚å› æ­¤ï¼Œéœ€è¦è¿›ä¸€æ­¥å»é™¤é”™è¯¯ç‚¹å¯¹ã€‚</li>
</ul>
<p><img src="photos\my_result\Matches_pos.jpg" alt="åˆæ¬¡åŒ¹é…"></p>
<h5 id="5-æœ€ä¼˜å•åº”çŸ©é˜µè®¡ç®—">5ã€æœ€ä¼˜å•åº”çŸ©é˜µè®¡ç®— </h5>
<ul>
<li>RANSACç®—æ³•</li>
</ul>
<blockquote>
<ul>
<li>RANSACç®—æ³•çš„åŸºæœ¬å‡è®¾æ˜¯æ ·æœ¬ä¸­åŒ…å«æ­£ç¡®æ•°æ®(inliersï¼Œå¯ä»¥è¢«æ¨¡å‹æè¿°çš„æ•°æ®)ï¼Œä¹ŸåŒ…å«å¼‚å¸¸æ•°æ®(outliersï¼Œåç¦»æ­£å¸¸èŒƒå›´å¾ˆè¿œã€æ— æ³•é€‚åº”æ•°å­¦æ¨¡å‹çš„æ•°æ®)ï¼Œå³æ•°æ®é›†ä¸­å«æœ‰å™ªå£°ã€‚</li>
<li>ç”±ç›´çº¿çš„çŸ¥è¯†ç‚¹å¯çŸ¥ï¼Œä¸¤ç‚¹å¯ä»¥ç¡®å®šä¸€æ¡ç›´çº¿ï¼Œæ‰€ä»¥å¯ä»¥éšæœºçš„åœ¨æ•°æ®ç‚¹é›†ä¸­é€‰æ‹©ä¸¤ç‚¹ï¼Œä»è€Œç¡®å®šä¸€æ¡ç›´çº¿ã€‚ç„¶åé€šè¿‡è®¾ç½®ç»™å®šçš„é˜ˆå€¼ï¼Œè®¡ç®—åœ¨ç›´çº¿ä¸¤æ—çš„ç¬¦åˆé˜ˆå€¼èŒƒå›´çš„ç‚¹ï¼Œç»Ÿè®¡ç‚¹çš„ä¸ªæ•°inliersã€‚inliersæœ€å¤šçš„ç‚¹é›†æ‰€åœ¨çš„ç›´çº¿ï¼Œå°±æ˜¯æˆ‘ä»¬è¦é€‰å–çš„æœ€ä½³ç›´çº¿ã€‚<br>
<img src="photos\reference.png" alt="å‚è€ƒ"></li>
</ul>
</blockquote>
<p>å‚è€ƒï¼š<a href="https://cloud.tencent.com/developer/article/2096397">å›¾åƒæ‹¼æ¥-- RANSAC ç®—æ³•è§£æ</a></p>
<ul>
<li>é¦–å…ˆå®šä¹‰å•åº”çŸ©é˜µçš„è®¡ç®—å‡½æ•° <code>solve_homography()</code> ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ul>
<div style="
  position: relative;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 35px 20px 20px 20px;
  color: #eee;
  font-family: 'Menlo', monospace;
  overflow-x: auto;
">
  <!-- é¡¶éƒ¨æ¡ -->
  <div style="
    position: absolute;
    top: 10px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 30px);
  ">
    <div>
      <span style="display:inline-block;width:12px;height:12px;background:#ff5f56;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#ffbd2e;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#27c93f;border-radius:50%;"></span>
    </div>
    <div style="
      background:#2b2b2b;
      color:#ddd;
      font-size:12px;
      padding:2px 10px;
      border-radius:5px;
      font-family:Arial, sans-serif;
      letter-spacing:0.5px;
    ">
      Python
    </div>
  </div>
  <pre style="margin:0; margin-top:10px;" class="language-text">def solve_homography(P, m):
    try:
        A = []  
        for r in range(len(P)): 
            
            A.append([-P[r,0], -P[r,1], -1, 0, 0, 0, P[r,0]*m[r,0], P[r,1]*m[r,0], m[r,0]])
            A.append([0, 0, 0, -P[r,0], -P[r,1], -1, P[r,0]*m[r,1], P[r,1]*m[r,1], m[r,1]])

        u, s, vt = np.linalg.svd(A) # Solve s ystem of linear equations Ah = 0 using SVD
        # pick H from last line of vt  
        H = np.reshape(vt[8], (3,3))
        # normalization, let H[2,2] equals to 1
        H = (1/H.item(8)) * H
    except:
        print("Error on compute H")

    return H
</pre>
</div>
<ul>
<li>æ‹Ÿåˆå•åº”çŸ©é˜µ<br>
åŸºäº RANSAC ç®—æ³•ï¼Œå®šä¹‰äº† <code>fitHomoMat(matches_pos,nIter, th)</code> å‡½æ•°ï¼Œå…¶åŸºæœ¬æ€è·¯å¦‚ä¸‹ï¼š
<ol>
<li>é¦–å…ˆå°†è¾“å…¥çš„åŒ¹é…ç‚¹å¯¹åˆ’åˆ†ä¸ºæºç‚¹é›†ä¸ç›®æ ‡ç‚¹é›†ï¼ŒæŠ½æ ·è®¡ç®—åˆå§‹å•åº”çŸ©é˜µ  <code>ğ»</code> ã€‚</li>
<li>å°†åˆå§‹çŸ©é˜µ <code>ğ»</code> äºæ‰€æœ‰æºç‚¹è¿›è¡ŒæŠ•å½±å˜æ¢ï¼Œè®¡ç®—æŠ•å½±ä½ç½®ä¸å®é™…ç›®æ ‡ç‚¹é—´çš„æ¬§æ°è·ç¦»ã€‚è‹¥è¯¥è·ç¦»å°äºè®¾å®šé˜ˆå€¼ <code>th</code> ï¼Œåˆ™è®¤ä¸ºè¯¥ç‚¹å¯¹ä¸ºå†…ç‚¹ï¼ˆ<code>inlier</code>ï¼‰ã€‚</li>
<li>è¿­ä»£ï¼ˆ<code>nIter</code>ï¼‰æ¬¡æ¯”è¾ƒå„æ¨¡å‹å†…ç‚¹æ•°é‡ï¼Œé€‰å–å†…ç‚¹æœ€å¤šçš„æ¨¡å‹ä½œä¸ºæœ€ä¼˜å•åº”çŸ©é˜µã€‚</li>
</ol>
</li>
</ul>
<div style="
  position: relative;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 35px 20px 20px 20px;
  color: #eee;
  font-family: 'Menlo', monospace;
  overflow-x: auto;
">
  <!-- é¡¶éƒ¨æ¡ -->
  <div style="
    position: absolute;
    top: 10px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 30px);
  ">
    <div>
      <span style="display:inline-block;width:12px;height:12px;background:#ff5f56;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#ffbd2e;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#27c93f;border-radius:50%;"></span>
    </div>
    <div style="
      background:#2b2b2b;
      color:#ddd;
      font-size:12px;
      padding:2px 10px;
      border-radius:5px;
      font-family:Arial, sans-serif;
      letter-spacing:0.5px;
    ">
      Python
    </div>
  </div>
  <pre style="margin:0; margin-top:10px;" class="language-text">def fitHomoMat(matches_pos, nIter=1000, th=5.0)
    # åŒ¹é…ç‚¹åˆ†ç¦»
    dstPoints, srcPoints = [], []
    for dstPoint, srcPoint in matches_pos:
        dstPoints.append(list(dstPoint))
        srcPoints.append(list(srcPoint))
    dstPoints, srcPoints = np.array(dstPoints), np.array(srcPoints)

    # å‚æ•°åˆå§‹åŒ–
    NumSample = len(matches_pos)
    threshold = th
    NumIter = nIter
    MaxInlier = 0
    Best_H = None

    # RANSAC è¿­ä»£
    for _ in range(NumIter):
        idx = random.sample(range(NumSample), 4)
        H = solve_homography(srcPoints[idx], dstPoints[idx])

        NumInlier, pos_Inlier = 0, []
        for i in range(NumSample):
            if i in idx:
                continue
            p = np.hstack((srcPoints[i], [1]))
            q = H @ p.T
            if q[2] &lt;= 1e-8:
                continue
            q /= q[2]
            if np.linalg.norm(q[:2] - dstPoints[i]) &lt; threshold:
                NumInlier += 1
                pos_Inlier.append((srcPoints[i], dstPoints[i]))

        if NumInlier &gt; MaxInlier:
            MaxInlier = NumInlier
            Best_H = H
            save_Inlier_pos = pos_Inlier

    return Best_H, save_Inlier_pos
</pre>
</div>
<ul>
<li>å¯è§†åŒ– å†…ç‚¹ï¼ˆInlierï¼‰åŒ¹é…ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ä¸ <a href="photos\Matches_pos.jpg">åˆæ¬¡åŒ¹é…</a> ç›¸æ¯”ï¼Œ RANSAC ä¼˜åŒ–åæ˜¾è‘—æå‡äº†åŒ¹é…å¯¹çš„å‡†ç¡®æ€§ä¸é²æ£’æ€§ï¼Œæœ‰æ•ˆå‰”é™¤äº†é”™è¯¯åŒ¹é…ç‚¹ã€‚</li>
</ul>
<p><img src="photos\my_result\Matches_pos2.jpg" alt="å†…ç‚¹åŒ¹é…ç»˜åˆ¶"></p>
<h5 id="6-å›¾åƒèåˆ">6ã€å›¾åƒèåˆ </h5>
<ul>
<li>ç”±äºåæ ‡å˜æ¢ç­‰åŸå› ï¼Œå¯¼è‡´æ‹¼æ¥å›¾åƒå³ä¾§æˆ–ä¸‹æ–¹å¸¸å¸¸ç•™æœ‰å…¨é»‘åŒºåŸŸï¼Œå› æ­¤å®šä¹‰äº† <code>removeBlackBorder(img)</code> å‡½æ•°å»é™¤é»‘è¾¹ï¼ˆä¸è¿‡åªæ˜¯çŸ©å½¢å‰ªåˆ‡ï¼Œä¸ä¼šå°†å…¨éƒ¨çš„é»‘è¾¹åŒºåŸŸå…¨éƒ¨åˆ‡æ‰ï¼‰ã€‚ä¸»è¦é€šè¿‡åƒç´ æ‰«ææ–¹å¼ç§»é™¤å³ä¾§ä¸åº•éƒ¨çš„çº¯é»‘åƒç´ åŒºåŸŸï¼Œä»¥å‡å°å›¾åƒå°ºå¯¸ã€æé«˜è§†è§‰ç´§å‡‘åº¦ã€‚</li>
</ul>
<div style="
  position: relative;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 35px 20px 20px 20px;
  color: #eee;
  font-family: 'Menlo', monospace;
  overflow-x: auto;
">
  <!-- é¡¶éƒ¨æ¡ -->
  <div style="
    position: absolute;
    top: 10px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 30px);
  ">
    <div>
      <span style="display:inline-block;width:12px;height:12px;background:#ff5f56;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#ffbd2e;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#27c93f;border-radius:50%;"></span>
    </div>
    <div style="
      background:#2b2b2b;
      color:#ddd;
      font-size:12px;
      padding:2px 10px;
      border-radius:5px;
      font-family:Arial, sans-serif;
      letter-spacing:0.5px;
    ">
      Python
    </div>
  </div>
  <pre style="margin:0; margin-top:10px;" class="language-text">def removeBlackBorder(img):

    h, w = img.shape[:2]
    reduced_h, reduced_w = h, w
    # å·¦ -&gt; å³
    for col in range(w - 1, -1, -1):
        all_black = True
        for i in range(h):
            if (np.count_nonzero(img[i, col]) &gt; 0):
                all_black = False
                break
        if (all_black == True):
            reduced_w = reduced_w - 1
        
    # ä¸‹ -&gt; ä¸Š
    for row in range(h - 1, -1, -1):
        all_black = True,
        for i in range(reduced_w):
            if (np.count_nonzero(img[row, i]) &gt; 0):
                all_black = False,
                break
        if (all_black == True):
            reduced_h = reduced_h - 1

    return img[:reduced_h, :reduced_w]
</pre>
</div>
<ul>
<li>å›¾åƒèåˆå‡½æ•° <code>warp(img_left, img_right, H, blending_mode)</code> ï¼Œç‰¹åˆ«åœ°ï¼Œè¿™é‡Œæˆ‘è®¾ç½®äº†ä¸‰ç§èåˆç­–ç•¥è¿›è¡Œå¯¹æ¯”ï¼š
<ul>
<li>noBlendingï¼šç›´æ¥å°†å·¦å›¾å’Œå˜æ¢åçš„å³å›¾å åŠ åˆ°æ‹¼æ¥ç”»å¸ƒä¸Šï¼Œæ— ä»»ä½•æƒé‡æ··åˆï¼›</li>
<li>linearBlendingï¼šå¯¹é‡å åŒºåŸŸæŒ‰çº¿æ€§æƒé‡è¿›è¡ŒåŠ æƒå¹³å‡ï¼›</li>
<li>linearBlendingWithConstantï¼šåªå¯¹é‡å åŒºåŸŸçš„ä¸­å¿ƒå›ºå®šå®½åº¦éƒ¨åˆ†è¿›è¡Œçº¿æ€§åŠ æƒï¼Œå…¶ä½™åŒºåŸŸä¿æŒåŸåƒç´ </li>
</ul>
</li>
<li>é¦–å…ˆé€šè¿‡ <code>H</code> çš„é€†å˜æ¢çŸ©é˜µå°†å³å›¾å‡ ä½•å˜æ¢å¯¹é½åˆ°å·¦å›¾åæ ‡ç³»ï¼Œéšåæ ¹æ®è®¾å®šçš„èåˆæ¨¡å¼æ‰§è¡Œä¸åŒçš„æ‹¼æ¥ç­–ç•¥ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼ˆå…¶ä¸­ <code>inearBlendingWithConstantWidth()</code> å’Œ <code>inearBlending()</code> å®ç°ä»£ç è¾ƒé•¿ï¼Œä¸å†è¿›è¡Œå±•ç¤ºï¼Œ<a href="./code/img_stitching.ipynb">è¯¦æƒ…</a>ï¼‰ã€‚</li>
</ul>
<div style="
  position: relative;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 35px 20px 20px 20px;
  color: #eee;
  font-family: 'Menlo', monospace;
  overflow-x: auto;
">
  <!-- é¡¶éƒ¨æ¡ -->
  <div style="
    position: absolute;
    top: 10px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 30px);
  ">
    <div>
      <span style="display:inline-block;width:12px;height:12px;background:#ff5f56;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#ffbd2e;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#27c93f;border-radius:50%;"></span>
    </div>
    <div style="
      background:#2b2b2b;
      color:#ddd;
      font-size:12px;
      padding:2px 10px;
      border-radius:5px;
      font-family:Arial, sans-serif;
      letter-spacing:0.5px;
    ">
      Python
    </div>
  </div>
  <pre style="margin:0; margin-top:10px;" class="language-text">def warp(img_left, img_right, HomoMat, blending_mode="linearBlending"):

    hl, wl = img_left.shape[:2]
    hr, wr = img_right.shape[:2]
    stitch_img = np.zeros((max(hl, hr), wl + wr, 3), dtype=np.uint8)

    if blending_mode == "noBlending":
        stitch_img[:hl, :wl] = img_left

    # å³å›¾å‡ ä½•å˜æ¢
    inv_H = np.linalg.inv(HomoMat)
    for i in range(stitch_img.shape[0]):
        for j in range(stitch_img.shape[1]):
            coor = np.array([j, i, 1])
            p = inv_H @ coor
            p /= p[2]
            y, x = int(round(p[0])), int(round(p[1]))
            if 2 &lt;= x &lt; hr-2 and 2 &lt;= y &lt; wr-2:
                stitch_img[i, j] = img_right[x, y]

    # é‡å åŒºåŸŸèåˆ
    if blending_mode == "linearBlending":
        stitch_img = linearBlending([img_left, stitch_img])
    elif blending_mode == "linearBlendingWithConstant":
        stitch_img = linearBlendingWithConstantWidth([img_left, stitch_img])

    # è£å‰ªé»‘è¾¹
    return removeBlackBorder(stitch_img)

</pre>
</div>
<ul>
<li>ä¸‰ç§èåˆç­–ç•¥å¯¹åº”æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>Origin</strong></th>
<th style="text-align:center"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="photos/origin.jpg" alt="no"></td>
<td style="text-align:center">åŸå›¾ï¼Œå®éªŒå›¾ç‰‡ä¸ºåŸå›¾çš„å‰ªåˆ‡ç‰ˆ</td>
</tr>
<tr>
<td style="text-align:center"><strong>no Blending</strong></td>
<td style="text-align:center"><strong>æè¿°</strong></td>
</tr>
<tr>
<td style="text-align:center"><img src="photos\my_result\stitch_img_noBlending.jpg" alt="no"></td>
<td style="text-align:center">æ‹¼æ¥å¤„ä¸Šä¸‹é”™ä½ï¼Œè¿‡æ¸¡æä¸ºä¸è‡ªç„¶</td>
</tr>
<tr>
<td style="text-align:center"><strong>linear Blending</strong></td>
<td style="text-align:center"><strong>æè¿°</strong></td>
</tr>
<tr>
<td style="text-align:center"><img src="photos\my_result\stitch_img_linearBlending.jpg" alt="no"></td>
<td style="text-align:center">é‡å åŒºåŸŸå¹³æ»‘è¿‡æ¸¡ï¼Œè§†è§‰æ•ˆæœè‡ªç„¶ï¼Œå­˜åœ¨ä¸åˆç†æ‹‰ä¼¸å¯¼è‡´çš„é»‘è¾¹</td>
</tr>
<tr>
<td style="text-align:center"><strong>linear Blending With Constant Width</strong></td>
<td style="text-align:center"><strong>æè¿°</strong></td>
</tr>
<tr>
<td style="text-align:center"><img src="photos/my_result/stitch_img_linearBlendingWithConstant.jpg" alt="no"></td>
<td style="text-align:center">ä¸åŸå›¾ç›¸ä¼¼åº¦æœ€é«˜ï¼Œè¾¹ç¼˜ç»†èŠ‚ä¿æŒè¾ƒå¥½ï¼Œæœªå‡ºç°æ˜æ˜¾é»‘è¾¹ã€‚</td>
</tr>
</tbody>
</table>
<ul>
<li>ç»“åˆä¸‰ç§æ–¹å¼èåˆæ•ˆæœï¼Œå¯çŸ¥ï¼š
<ul>
<li>1ï¸âƒ£ noBlendingï¼šå®ç°æœ€ç®€å•ã€é€Ÿåº¦æœ€å¿«ï¼›ä½†æ˜¯é‡å åŒºåŸŸå¯èƒ½å‡ºç°æ˜æ˜¾çš„è¾¹ç•Œæ–­è£‚æˆ–äº®åº¦çªå˜ã€‚</li>
<li>2ï¸âƒ£ linearBlendingï¼šé‡å åŒºåŸŸå®ç°å¹³æ»‘è¿‡æ¸¡ï¼Œè§†è§‰æ•ˆæœè‡ªç„¶ï¼Œå¯æœ‰æ•ˆå‡å°‘æ‹¼æ¥è¾¹ç•Œçš„æ˜æ˜¾ç—•è¿¹ï¼›ä½†æ˜¯å¯èƒ½å­˜åœ¨ä¸åˆç†æ‹‰ä¼¸ï¼Œå›¾ç‰‡å½¢çŠ¶â€œç•¸å½¢â€ã€‚</li>
<li>3ï¸âƒ£ linearBlendingWithConstantï¼šå…¼é¡¾è¾¹ç¼˜ç»†èŠ‚ä¿æŒå’Œä¸­å¿ƒè¿‡æ¸¡å¹³æ»‘ï¼›å¯¹äºé‡å åŒºåŸŸå®½åº¦è¾ƒå¤§æ—¶ï¼Œèƒ½å¤Ÿé¿å…æ•´æ¡è¿‡æ¸¡åŒºåŸŸè¢«æ‹‰ä¼¸å¯¼è‡´æ¨¡ç³Šï¼›</li>
</ul>
</li>
</ul>
<h5 id="6-å¯¹æ¯”å®éªŒ">6ã€å¯¹æ¯”å®éªŒ </h5>
<ul>
<li>æƒ…æ™¯ 1 ï¼šçº¯é™æ€ï¼ˆå›¾ç‰‡è£å‰ªï¼‰</li>
<li>æƒ…æ™¯ 2 ï¼šå¾®åŠ¨æ€ï¼ˆé‡å åŒºåŸŸå­˜åœ¨åŠ¨æ€ç‰©ä½“çš„ç§»åŠ¨ï¼‰</li>
<li>å¯¹æ¯”æ‰‹åŠ¨å®ç°ã€å®éªŒå‚è€ƒä»£ç ï¼ˆå°†å…¶ä½œä¸º baseline ï¼‰ã€OpenCV <code>stitcher = cv2.Stitcher_create().stitch()</code> API ä¸‰ç§æ–¹å¼åœ¨é™æ€æ‹¼æ¥ã€å¾®åŠ¨æ€æ‹¼æ¥ä¸Šçš„å·®å¼‚ï¼Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>My_Result</strong></th>
<th style="text-align:center"><strong>Baseline</strong></th>
<th style="text-align:center"><strong>OpenCV</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="photos/my_result/stitch_img_linearBlendingWithConstant.jpg" alt="my_airforce"></td>
<td style="text-align:center"><img src="photos/baseline/baseline_airforce_stitched_image.jpg" alt="base_airforce"></td>
<td style="text-align:center"><img src="photos/opencv/opencv_airforce_stitched_result.jpg" alt="open_airforce"></td>
</tr>
<tr>
<td style="text-align:center"><img src="photos/my_result/road_stitch_img_linearBlending.jpg" alt="my_road"></td>
<td style="text-align:center"><img src="photos/baseline/baseline_road_image.jpg" alt="base_road"></td>
<td style="text-align:center"><img src="photos/opencv/opencv_road_stitched_result.jpg" alt="open_airforce"></td>
</tr>
</tbody>
</table>
<ul>
<li>Baseline åœ¨ä¸¤ç§æƒ…æ™¯ä¸‹æ‹¼æ¥éƒ½å‡ºç°äº†è¾ƒå¤§çš„é—®é¢˜ï¼šæƒ…æ™¯ 1 å›¾ç‰‡å­˜åœ¨ä¸åˆç†æ‹‰ä¼¸ï¼Œæƒ…æ™¯ 2 è™½ç„¶å¹¶æœªå‡ºç°â€œé¬¼å½±â€ï¼Œä½†æ˜¯æ‹¼æ¥â€œç¼éš™â€æ˜æ˜¾ï¼›</li>
<li>æ‰‹åŠ¨å®ç°æ–¹å¼æƒ…æ™¯ 1 è¡¨ç°å¾ˆå¥½ï¼Œä¸ OpenCV API å‡ ä¹æ— å¼‚ï¼Œå¯æ˜¯åœ¨æƒ…æ™¯ 2 ä¸­ï¼Œç”±äºäººç‰©çš„ç§»åŠ¨ï¼ŒåŠ¨æ€ç‰©ä½“å¤„å­˜åœ¨â€œé¬¼å½±â€ï¼›</li>
<li>OpenCV API ä¸¤ç§æƒ…å¢ƒä¸‹å‡è¡¨ç°è¾ƒå¥½ã€‚</li>
</ul>
<h4 id="ä¸‰-å®éªŒæ€»ç»“ä¸æ¢ç´¢">ä¸‰ã€å®éªŒæ€»ç»“ä¸æ¢ç´¢ </h4>
<p>1ã€æœ¬å®éªŒæ‰‹åŠ¨å®ç°äº†å›¾åƒæ‹¼æ¥è¿‡ç¨‹ï¼Œå¹¶å¯¹ä¸åŒçš„èåˆç­–ç•¥è¿›è¡Œäº†æ¨ªå‘å¯¹æ¯”ï¼›æ¯”è¾ƒäº†æ‰‹åŠ¨å®ç°æ–¹å¼ã€å®éªŒå‚è€ƒä»£ç ï¼ˆä½œä¸ºbaselineï¼‰ã€OpenCV API è¿™ä¸‰ç§æ–¹å¼åœ¨ä¸åŒåœºæ™¯ä¸‹çš„æ‹¼æ¥æ•ˆæœã€‚<br>
2ã€æ¢ç´¢<br>
ä¸ºäº†äº†è§£ OpenCV å†…éƒ¨å‡½æ•°æ˜¯å¦‚ä½•è§£å†³â€œé¬¼å½±â€é—®é¢˜çš„ï¼Œæˆ‘æŸ¥çœ‹äº† OpenCV çš„å®˜æ–¹æ–‡æ¡£ã€‚</p>
<blockquote>
<p>â€œSeam Findingâ€ï¼ˆç¼éš™é€‰æ‹©ï¼‰æ˜¯æŒ‡åœ¨é‡å åŒºåŸŸä¸­å¯»æ‰¾æœ€ä½³æ‹¼æ¥è·¯å¾„çš„è¿‡ç¨‹ã€‚åœ¨æ‹¼æ¥å…¨æ™¯å›¾åƒæ—¶ï¼Œä¸åŒè¾“å…¥å›¾åƒå¯èƒ½å­˜åœ¨å†…å®¹å·®å¼‚ï¼ˆå¦‚ç‰©ä½“ä½ç½®ã€çº¹ç†æˆ–å…‰ç…§å˜åŒ–ï¼‰ï¼Œå¦‚æœç›´æ¥æ‹¼æ¥ä¼šå¯¼è‡´é‡å åŒºåŸŸå‡ºç°æ˜æ˜¾çš„æ¥ç¼æˆ–â€œé¬¼å½±â€ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»£ç ä¸­çš„â€œSeam Findingâ€éƒ¨åˆ†é€šè¿‡åœ¨é‡å åŒºåŸŸè®¡ç®—æœ€å°å¯è§å·®å¼‚è·¯å¾„ï¼Œä½¿æœ€ç»ˆæ‹¼æ¥ç»“æœæ²¿ç€æœ€ä¸æ˜¾çœ¼çš„ç¼éš™è¿æ¥å›¾åƒï¼Œä»è€Œæœ€å¤§ç¨‹åº¦åœ°å‡å°‘æ¥ç¼å’Œé‡å½±ã€‚</p>
</blockquote>
<blockquote>
<p>â€œCompensate exposureâ€ï¼ˆæ›å…‰è¡¥å¿ï¼‰æ˜¯æŒ‡å¯¹å›¾åƒè¿›è¡Œè°ƒæ•´ä»¥å®ç°æ›å…‰ä¸€è‡´æ€§çš„è¿‡ç¨‹ã€‚åœ¨æ‹¼æ¥å…¨æ™¯å›¾åƒæ—¶ï¼Œä¸åŒè¾“å…¥å›¾åƒå¯èƒ½å…·æœ‰ä¸åŒçš„æ›å…‰æ°´å¹³ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æœ€ç»ˆæ‹¼æ¥ç»“æœä¸­å‡ºç°ä¸è¿è´¯æˆ–æ˜æ˜¾çš„äº®åº¦å·®å¼‚ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»£ç ä¸­çš„"Compensate exposure"éƒ¨åˆ†å¯¹æ¯ä¸ªå›¾åƒè¿›è¡Œæ›å…‰è¡¥å¿ï¼Œä»¥ä½¿å…¶åœ¨å…¨æ™¯å›¾ä¸­çš„æ›å…‰æ°´å¹³æ›´åŠ ä¸€è‡´ã€‚</p>
</blockquote>
<div style="
  position: relative;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 35px 20px 20px 20px;
  color: #eee;
  font-family: 'Menlo', monospace;
  overflow-x: auto;
">
  <!-- é¡¶éƒ¨æ¡ -->
  <div style="
    position: absolute;
    top: 10px;
    left: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 30px);
  ">
    <div>
      <span style="display:inline-block;width:12px;height:12px;background:#ff5f56;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#ffbd2e;border-radius:50%;margin-right:6px;"></span>
      <span style="display:inline-block;width:12px;height:12px;background:#27c93f;border-radius:50%;"></span>
    </div>
    <div style="
      background:#2b2b2b;
      color:#ddd;
      font-size:12px;
      padding:2px 10px;
      border-radius:5px;
      font-family:Arial, sans-serif;
      letter-spacing:0.5px;
    ">
      Cpp
    </div>
  </div>
  <pre style="margin:0; margin-top:10px;" class="language-text">// Seam finding
seam_finder_-&gt;find(img_warped, corners[img_idx], mask_warped);
LOGLN(" seam finding: " &lt;&lt; ((getTickCount() - pt) / getTickFrequency()) &lt;&lt; " sec");


// Compensate exposure
exposure_comp_-&gt;apply((int)img_idx, corners[img_idx], img_warped, mask_warped);
LOGLN(" compensate exposure: " &lt;&lt; ((getTickCount() - pt) / getTickFrequency()) &lt;&lt; " sec");
</pre>
</div>
<p>è¿™å…¶å®è§£é‡Šäº†ä¸ºä»€ä¹ˆæ‰‹åŠ¨å®ç°é‡‡ç”¨çš„èåˆæ–¹å¼ <code>linear Blending</code> ä»¥åŠ <code>linear Blending With Constant Width</code> å‡ä¸èƒ½å¾ˆå¥½çš„å¤„ç†é¬¼å½±é—®é¢˜ï¼šå› ä¸ºè¿™ä¸¤ç§æ–¹å¼æ˜¯<strong>åŠ æƒå¹³å‡</strong>ï¼Œé‡å åŒºåŸŸçš„ä¸¤å¼ ç…§ç‰‡éƒ½ä¼šèµ·ä½œç”¨ï¼›ä½†æ˜¯ OpenCV é€šè¿‡<strong>ç¼éš™é€‰æ‹©</strong>ä¸€å¼ å›¾ç‰‡çš„åƒç´ ï¼ŒåŒæ—¶<strong>æ›å…‰è¡¥å¿</strong>å¹³æ»‘äº®åº¦ï¼Œä»è€Œå‡å°‘é¬¼å½±ã€‚</p>
<p>3ã€å…¶å®ƒç»†èŠ‚è¿™é‡Œä¸å†è¯¦ç»†è¯´æ˜ï¼Œåœ¨å®éªŒå†…å®¹éƒ¨åˆ†å·²æœ‰é˜è¿°ã€‚</p>
<p>å‚è€ƒï¼š<br>
[1] <a href="https://cloud.tencent.com/developer/article/2096397">å›¾åƒæ‹¼æ¥-- RANSAC ç®—æ³•è§£æ</a><br>
[2] <a href="https://www.cnblogs.com/skyfsm/p/7411961.html">å›¾åƒæ‹¼æ¥ä¸å›¾åƒèåˆæŠ€æœ¯</a><br>
[3] <a href="https://docs.opencv.org/4.x/d1/d46/group__stitching.html">OpenCV : Group Stitching</a></p>
</b></font>
      </div>
      
      
    
    
    
    
    
    
  
    </body></html>